<?php

/* Объявляем все переменные, иначе при сборке посыпятся ворнинги */
$PRICE_DEMO_NAME = 'DEMO';
$PRICE_START_NAME = 'START';
$PRICE_ECONOMY_NAME = 'ECONOMY';
$PRICE_EXPRESS_NAME = 'EXPRESS';
$PRICE_STANDARD_NAME = 'STANDARD';
$PRICE_BUSINESS_NAME = 'BUSINESS';
$PRICE_VIP_NAME = 'VIP';
$PRICE_SILVER_NAME = 'SILVER';
$PRICE_GOLD_NAME = 'GOLD';
$PRICE_PLATINUM_NAME = 'PLATINUM';
$PRICE_BACHELOR_NAME = 'БАКАЛАВР';
$PRICE_MAGISTER_NAME = 'МАГИСТР';
$PRICE_POSTGRADUATE_NAME = 'АСПИРАНТ';
$PRICE_READY_NAME = 'READY';
$PRICE_STEADY_NAME = 'STEADY';
$PRICE_RUN_NAME = 'RUN!';
/*Билеты в новой странице прайс*/
$PRICE_MONTH_NAME = 'Месяц';
$PRICE_6_MONTH_NAME = '6 месяцев';
$PRICE_12_MONTH_NAME = '12 месяцев';
$PRICE_SUBS_SILVER_NAME = 'Silver';
$PRICE_SUBS_GOLD_NAME = 'Gold';
$PRICE_SUBS_PLATINUM_NAME = 'Platinum';

$PRODUCT_ID_DEMO = ''; /* Пакет DEMO показывается только для ленда платформы - case 'platform' в version.php */
$PRODUCT_ID_START = 57197247;
$PRODUCT_ID_ECONOMY = 57075551;
$PRODUCT_ID_EXPRESS = 59202322;
$PRODUCT_ID_STANDARD = 56922981;
$PRODUCT_ID_BUSINESS = 62125045;
$PRODUCT_ID_VIP = 56923765;
$PRODUCT_ID_SILVER = 56913562;
$PRODUCT_ID_GOLD = 56924074;
$PRODUCT_ID_PLATINUM = 56924408;
$PRODUCT_ID_BACHELOR = 56924412;
$PRODUCT_ID_MAGISTER = 56924414;
$PRODUCT_ID_POSTGRADUATE = 56924416;
$PRODUCT_ID_READY = 57155438;
$PRODUCT_ID_STEADY = 57155440;
$PRODUCT_ID_RUN = 57155442;
/*Билеты в новой странице прайс*/
$PRODUCT_ID_MONTH = 65905687;
$PRODUCT_ID_6_MONTH = 65617664;
$PRODUCT_ID_12_MONTH = 65617668;
$PRODUCT_ID_SUBS_SILVER = 65617672;
$PRODUCT_ID_SUBS_GOLD = 65617674;
$PRODUCT_ID_SUBS_PLATINUM = 65617676;
// brain2021


$PRICE_DEMO_IS_RECURRENT = true;
$PRICE_START_IS_RECURRENT = false;
$PRICE_ECONOMY_IS_RECURRENT = false;
$PRICE_EXPRESS_IS_RECURRENT = false;
$PRICE_STANDARD_IS_RECURRENT = true;
$PRICE_BUSINESS_IS_RECURRENT = true;
$PRICE_VIP_IS_RECURRENT = true;
$PRICE_SILVER_IS_RECURRENT = true;
$PRICE_GOLD_IS_RECURRENT = true;
$PRICE_PLATINUM_IS_RECURRENT = true;
$PRICE_BACHELOR_IS_RECURRENT = true;
$PRICE_MAGISTER_IS_RECURRENT = true;
$PRICE_POSTGRADUATE_IS_RECURRENT = true;
$PRICE_READY_IS_RECURRENT = true;
$PRICE_STEADY_IS_RECURRENT = true;
$PRICE_RUN_IS_RECURRENT = true;
/*Билеты в новой странице прайс*/
$PRICE_MONTH_IS_RECURRENT = true;
$PRICE_6_MONTH_IS_RECURRENT = true;
$PRICE_12_MONTH_IS_RECURRENT = true;
$PRICE_SUBS_SILVER_IS_RECURRENT = true;
$PRICE_SUBS_GOLD_IS_RECURRENT = true;
$PRICE_SUBS_PLATINUM_IS_RECURRENT = true;

$PRICE_DEMO = '';
$PRICES_DEMO = '';
$PRICE_DEMO_INCREASING_DAY = '';
$PRICE_DEMO_NEXT = '';

$PRICE_START = '';
$PRICES_START = '';
$PRICE_START_INCREASING_DAY = '';
$PRICE_START_NEXT = '';

$PRICE_ECONOMY = '';
$PRICES_ECONOMY = '';
$PRICE_ECONOMY_INCREASING_DAY = '';
$PRICE_ECONOMY_NEXT = '';

$PRICE_EXPRESS = '';
$PRICES_EXPRESS = '';
$PRICE_EXPRESS_INCREASING_DAY = '';
$PRICE_EXPRESS_NEXT = '';

$PRICE_STANDARD = '';
$PRICES_STANDARD = '';
$PRICE_STANDARD_INCREASING_DAY = '';
$PRICE_STANDARD_NEXT = '';

$PRICE_BUSINESS = '';
$PRICES_BUSINESS = '';
$PRICE_BUSINESS_INCREASING_DAY = '';
$PRICE_BUSINESS_NEXT = '';

$PRICE_VIP = '';
$PRICES_VIP = '';
$PRICE_VIP_INCREASING_DAY = '';
$PRICE_VIP_NEXT = '';

$PRICE_SILVER = '';
$PRICES_SILVER = '';
$PRICE_SILVER_INCREASING_DAY = '';
$PRICE_SILVER_NEXT = '';

$PRICE_GOLD = '';
$PRICES_GOLD = '';
$PRICE_GOLD_INCREASING_DAY = '';
$PRICE_GOLD_NEXT = '';

$PRICE_PLATINUM = '';
$PRICES_PLATINUM = '';
$PRICE_PLATINUM_INCREASING_DAY = '';
$PRICE_PLATINUM_NEXT = '';

$PRICE_BACHELOR = '';
$PRICES_BACHELOR = '';
$PRICE_BACHELOR_INCREASING_DAY = '';
$PRICE_BACHELOR_NEXT = '';

$PRICE_MAGISTER = '';
$PRICES_MAGISTER = '';
$PRICE_MAGISTER_INCREASING_DAY = '';
$PRICE_MAGISTER_NEXT = '';

$PRICE_POSTGRADUATE = '';
$PRICES_POSTGRADUATE = '';
$PRICE_POSTGRADUATE_INCREASING_DAY = '';
$PRICE_POSTGRADUATE_NEXT = '';

$PRICE_READY = '';
$PRICES_READY = '';
$PRICE_READY_INCREASING_DAY = '';
$PRICE_READY_NEXT = '';

$PRICE_STEADY = '';
$PRICES_STEADY = '';
$PRICE_STEADY_INCREASING_DAY = '';
$PRICE_STEADY_NEXT = '';

$PRICE_RUN = '';
$PRICES_RUN = '';
$PRICE_RUN_INCREASING_DAY = '';
$PRICE_RUN_NEXT = '';

/*Билеты в новой странице прайс*/
$PRICE_MONTH = '';
$PRICES_MONTH = '';
$PRICE_MONTH_INCREASING_DAY = '';
$PRICE_MONTH_NEXT = '';

$PRICE_6_MONTH = '';
$PRICES_6_MONTH = '';
$PRICE_6_MONTH_INCREASING_DAY = '';
$PRICE_6_MONTH_NEXT = '';

$PRICE_12_MONTH = '';
$PRICES_12_MONTH = '';
$PRICE_12_MONTH_INCREASING_DAY = '';
$PRICE_12_MONTH_NEXT = '';

$PRICE_SUBS_SILVER = '';
$PRICES_SUBS_SILVER = '';
$PRICE_SUBS_SILVER_INCREASING_DAY = '';
$PRICE_SUBS_SILVER_NEXT = '';

$PRICE_SUBS_GOLD = '';
$PRICES_SUBS_GOLD = '';
$PRICE_SUBS_GOLD_INCREASING_DAY = '';
$PRICE_SUBS_GOLD_NEXT = '';

$PRICE_SUBS_PLATINUM = '';
$PRICES_SUBS_PLATINUM = '';
$PRICE_SUBS_PLATINUM_INCREASING_DAY = '';
$PRICE_SUBS_PLATINUM_NEXT = '';


UpdatePrices();


function priceFormat($price) {
	return number_format($price, 0, '', ' ');
}

function dateFormat($date) {
	$months = [
		"01" => "января",
		"02" => "февраля",
		"03" => "марта",
		"04" => "апреля",
		"05" => "мая",
		"06" => "июня",
		"07" => "июля",
		"08" => "августа",
		"09" => "сентября",
		"10" => "октября",
		"11" => "ноября",
		"12" => "декабря"
	];
	$mouth = date("m", strtotime($date));

	return 'C ' . date("d", strtotime($date)) . ' ' . $months[$mouth];
}

function getCurrPrice($row) {
	$n = -1;
	if (is_array($row)) {
		foreach ($row as $price) {
			if (time() >= strtotime($price->DATE)) {
				$n++;
			}
		}
	}
	return $n;
}

function UpdatePrices() {
	global $JSONDATA, $PRODUCT_ID_DEMO, $PRICE_DEMO, $PRICES_DEMO, $PRICE_DEMO_NEXT, $PRICE_DEMO_INCREASING_DAY, $PRODUCT_ID_START, $PRICE_START, $PRICES_START, $PRICE_START_NEXT, $PRICE_START_INCREASING_DAY, $PRODUCT_ID_ECONOMY, $PRICE_ECONOMY, $PRICES_ECONOMY, $PRICE_ECONOMY_NEXT, $PRICE_ECONOMY_INCREASING_DAY, $PRODUCT_ID_EXPRESS, $PRICE_EXPRESS, $PRICES_EXPRESS, $PRICE_EXPRESS_NEXT, $PRICE_EXPRESS_INCREASING_DAY,$PRODUCT_ID_STANDARD, $PRICE_STANDARD, $PRICES_STANDARD, $PRICE_STANDARD_NEXT, $PRICE_STANDARD_INCREASING_DAY, $PRODUCT_ID_BUSINESS, $PRICE_BUSINESS, $PRICES_BUSINESS, $PRICE_BUSINESS_NEXT, $PRICE_BUSINESS_INCREASING_DAY, $PRODUCT_ID_VIP, $PRICE_VIP, $PRICES_VIP, $PRICE_VIP_NEXT, $PRICE_VIP_INCREASING_DAY, $PRODUCT_ID_SILVER, $PRICE_SILVER, $PRICES_SILVER, $PRICE_SILVER_NEXT, $PRICE_SILVER_INCREASING_DAY, $PRODUCT_ID_GOLD, $PRICE_GOLD, $PRICES_GOLD, $PRICE_GOLD_NEXT, $PRICE_GOLD_INCREASING_DAY, $PRODUCT_ID_PLATINUM, $PRICE_PLATINUM, $PRICES_PLATINUM, $PRICE_PLATINUM_NEXT, $PRICE_PLATINUM_INCREASING_DAY, $PRODUCT_ID_BACHELOR, $PRICE_BACHELOR, $PRICES_BACHELOR, $PRICE_BACHELOR_NEXT, $PRICE_BACHELOR_INCREASING_DAY, $PRODUCT_ID_MAGISTER, $PRICE_MAGISTER, $PRICES_MAGISTER, $PRICE_MAGISTER_NEXT, $PRICE_MAGISTER_INCREASING_DAY, $PRODUCT_ID_POSTGRADUATE, $PRICE_POSTGRADUATE, $PRICES_POSTGRADUATE, $PRICE_POSTGRADUATE_NEXT, $PRICE_POSTGRADUATE_INCREASING_DAY, $PRODUCT_ID_READY, $PRICE_READY, $PRICES_READY, $PRICE_READY_NEXT, $PRICE_READY_INCREASING_DAY, $PRODUCT_ID_STEADY, $PRICE_STEADY, $PRICES_STEADY, $PRICE_STEADY_NEXT, $PRICE_STEADY_INCREASING_DAY, $PRODUCT_ID_RUN, $PRICE_RUN, $PRICES_RUN, $PRICE_RUN_NEXT, $PRICE_RUN_INCREASING_DAY, $PRODUCT_ID_MONTH, $PRICE_MONTH, $PRICES_MONTH, $PRICE_MONTH_NEXT, $PRICE_MONTH_INCREASING_DAY, $PRODUCT_ID_6_MONTH, $PRICE_6_MONTH, $PRICES_6_MONTH, $PRICE_6_MONTH_NEXT, $PRICE_6_MONTH_INCREASING_DAY, $PRODUCT_ID_12_MONTH, $PRICE_12_MONTH, $PRICES_12_MONTH, $PRICE_12_MONTH_NEXT, $PRICE_12_MONTH_INCREASING_DAY, $PRODUCT_ID_SUBS_SILVER, $PRICE_SUBS_SILVER, $PRICES_SUBS_SILVER, $PRICE_SUBS_SILVER_NEXT, $PRICE_SUBS_SILVER_INCREASING_DAY, $PRODUCT_ID_SUBS_GOLD, $PRICE_SUBS_GOLD, $PRICES_SUBS_GOLD, $PRICE_SUBS_GOLD_NEXT, $PRICE_SUBS_GOLD_INCREASING_DAY, $PRODUCT_ID_SUBS_PLATINUM, $PRICE_SUBS_PLATINUM, $PRICES_SUBS_PLATINUM, $PRICE_SUBS_PLATINUM_NEXT, $PRICE_SUBS_PLATINUM_INCREASING_DAY;

	try {
		if (property_exists($JSONDATA, 'Prices') === true) {
			if ($JSONDATA->Prices != null) {
				foreach ($JSONDATA->Prices as $row) {
					$price = (array)$row->price;
					$countPrice = count($price);
					$curNum = getCurrPrice($price);
					$num = getCurrPrice($price) + 1;

					switch ($row->productId) {
						case $PRODUCT_ID_DEMO: /* DEMO */
						$PRICE_DEMO = priceFormat($price[$curNum]->PRICE);
						$PRICES_DEMO = $price;
						if (array_key_exists($num, $price)) {
							$PRICE_DEMO_NEXT = priceFormat($price[$num]->PRICE);
						}
						if (array_key_exists($num, $price)) {
							$PRICE_DEMO_INCREASING_DAY = dateFormat($price[$num]->DATE);
						}
						if ($PRICE_DEMO_NEXT == 0) {
							$PRICE_DEMO_NEXT = '';
							$PRICE_DEMO_INCREASING_DAY = '';
						}
						break;

						case $PRODUCT_ID_START: /* START */
						$PRICE_START = priceFormat($price[$curNum]->PRICE);
						$PRICES_START = $price;
						if (array_key_exists($num, $price)) {
							$PRICE_START_NEXT = priceFormat($price[$num]->PRICE);
						}
						if (array_key_exists($num, $price)) {
							$PRICE_START_INCREASING_DAY = dateFormat($price[$num]->DATE);
						}
						if ($PRICE_START_NEXT == 0) {
							$PRICE_START_NEXT = '';
							$PRICE_START_INCREASING_DAY = '';
						}
						break;

						case $PRODUCT_ID_ECONOMY: /* ECONOMY */
						$PRICE_ECONOMY = priceFormat($price[$curNum]->PRICE);
						$PRICES_ECONOMY = $price;
						if (array_key_exists($num, $price)) {
							$PRICE_ECONOMY_NEXT = priceFormat($price[$num]->PRICE);
						}
						if (array_key_exists($num, $price)) {
							$PRICE_ECONOMY_INCREASING_DAY = dateFormat($price[$num]->DATE);
						}
						if ($PRICE_ECONOMY_NEXT == 0) {
							$PRICE_ECONOMY_NEXT = '';
							$PRICE_ECONOMY_INCREASING_DAY = '';
						}
						break;

						case $PRODUCT_ID_EXPRESS: /* EXPRESS */
						$PRICE_EXPRESS = priceFormat($price[$curNum]->PRICE);
						$PRICES_EXPRESS = $price;
						if (array_key_exists($num, $price)) {
							$PRICE_EXPRESS_NEXT = priceFormat($price[$num]->PRICE);
						}
						if (array_key_exists($num, $price)) {
							$PRICE_EXPRESS_INCREASING_DAY = dateFormat($price[$num]->DATE);
						}
						if ($PRICE_EXPRESS_NEXT == 0) {
							$PRICE_EXPRESS_NEXT = '';
							$PRICE_EXPRESS_INCREASING_DAY = '';
						}
						break;

						case $PRODUCT_ID_STANDARD: /* STANDARD */
						$PRICE_STANDARD = priceFormat($price[$curNum]->PRICE);
						$PRICES_STANDARD = $price;
						if (array_key_exists($num, $price)) {
							$PRICE_STANDARD_NEXT = priceFormat($price[$num]->PRICE);
						}
						if (array_key_exists($num, $price)) {
							$PRICE_STANDARD_INCREASING_DAY = dateFormat($price[$num]->DATE);
						}
						if ($PRICE_STANDARD_NEXT == 0) {
							$PRICE_STANDARD_NEXT = '';
							$PRICE_STANDARD_INCREASING_DAY = '';
						}
						break;

						case $PRODUCT_ID_BUSINESS: /* BUSINESS */
						$PRICE_BUSINESS = priceFormat($price[$curNum]->PRICE);
						$PRICES_BUSINESS = $price;
						if (array_key_exists($num, $price)) {
							$PRICE_BUSINESS_NEXT = priceFormat($price[$num]->PRICE);
						}
						if (array_key_exists($num, $price)) {
							$PRICE_BUSINESS_INCREASING_DAY = dateFormat($price[$num]->DATE);
						}
						if ($PRICE_BUSINESS_NEXT == 0) {
							$PRICE_BUSINESS_NEXT = '';
							$PRICE_BUSINESS_INCREASING_DAY = '';
						}
						break;

						case $PRODUCT_ID_VIP: /* VIP */
						$PRICE_VIP = priceFormat($price[$curNum]->PRICE);
						$PRICES_VIP = $price;
						if (array_key_exists($num, $price)) {
							$PRICE_VIP_NEXT = priceFormat($price[$num]->PRICE);
						}
						if (array_key_exists($num, $price)) {
							$PRICE_VIP_INCREASING_DAY = dateFormat($price[$num]->DATE);
						}
						if ($PRICE_VIP_NEXT == 0) {
							$PRICE_VIP_NEXT = '';
							$PRICE_VIP_INCREASING_DAY = '';
						}
						break;

						case $PRODUCT_ID_SILVER: /* SILVER */
						$PRICE_SILVER = priceFormat($price[$curNum]->PRICE);
						$PRICES_SILVER = $price;
						if (array_key_exists($num, $price)) {
							$PRICE_SILVER_NEXT = priceFormat($price[$num]->PRICE);
						}
						if (array_key_exists($num, $price)) {
							$PRICE_SILVER_INCREASING_DAY = dateFormat($price[$num]->DATE);
						}
						if ($PRICE_SILVER_NEXT == 0) {
							$PRICE_SILVER_NEXT = '';
							$PRICE_SILVER_INCREASING_DAY = '';
						}
						break;

						case $PRODUCT_ID_GOLD: /* GOLD */
						$PRICE_GOLD = priceFormat($price[$curNum]->PRICE);
						$PRICES_GOLD = $price;
						if (array_key_exists($num, $price)) {
							$PRICE_GOLD_NEXT = priceFormat($price[$num]->PRICE);
						}
						if (array_key_exists($num, $price)) {
							$PRICE_GOLD_INCREASING_DAY = dateFormat($price[$num]->DATE);
						}
						if ($PRICE_GOLD_NEXT == 0) {
							$PRICE_GOLD_NEXT = '';
							$PRICE_GOLD_INCREASING_DAY = '';
						}
						break;

						case $PRODUCT_ID_PLATINUM: /* PLATINUM */
						$PRICE_PLATINUM = priceFormat($price[$curNum]->PRICE);
						$PRICES_PLATINUM = $price;
						if (array_key_exists($num, $price)) {
							$PRICE_PLATINUM_NEXT = priceFormat($price[$num]->PRICE);
						}
						if (array_key_exists($num, $price)) {
							$PRICE_PLATINUM_INCREASING_DAY = dateFormat($price[$num]->DATE);
						}
						if ($PRICE_PLATINUM_NEXT == 0) {
							$PRICE_PLATINUM_NEXT = '';
							$PRICE_PLATINUM_INCREASING_DAY = '';
						}
						break;

						case $PRODUCT_ID_BACHELOR: /* Академическая программа: бакалавриат */
						$PRICE_BACHELOR = priceFormat($price[$curNum]->PRICE);
						$PRICES_BACHELOR = $price;
						if (array_key_exists($num, $price)) {
							$PRICE_BACHELOR_NEXT = priceFormat($price[$num]->PRICE);
						}
						if (array_key_exists($num, $price)) {
							$PRICE_BACHELOR_INCREASING_DAY = dateFormat($price[$num]->DATE);
						}
						if ($PRICE_BACHELOR_NEXT == 0) {
							$PRICE_BACHELOR_NEXT = '';
							$PRICE_BACHELOR_INCREASING_DAY = '';
						}
						break;

						case $PRODUCT_ID_MAGISTER: /* Академическая программа: магистратура */
						$PRICE_MAGISTER = priceFormat($price[$curNum]->PRICE);
						$PRICES_MAGISTER = $price;
						if (array_key_exists($num, $price)) {
							$PRICE_MAGISTER_NEXT = priceFormat($price[$num]->PRICE);
						}
						if (array_key_exists($num, $price)) {
							$PRICE_MAGISTER_INCREASING_DAY = dateFormat($price[$num]->DATE);
						}
						if ($PRICE_MAGISTER_NEXT == 0) {
							$PRICE_MAGISTER_NEXT = '';
							$PRICE_MAGISTER_INCREASING_DAY = '';
						}
						break;

						case $PRODUCT_ID_POSTGRADUATE: /* Академическая программа: аспирантура */
						$PRICE_POSTGRADUATE = priceFormat($price[$curNum]->PRICE);
						$PRICES_POSTGRADUATE = $price;
						if (array_key_exists($num, $price)) {
							$PRICE_POSTGRADUATE_NEXT = priceFormat($price[$num]->PRICE);
						}
						if (array_key_exists($num, $price)) {
							$PRICE_POSTGRADUATE_INCREASING_DAY = dateFormat($price[$num]->DATE);
						}
						if ($PRICE_POSTGRADUATE_NEXT == 0) {
							$PRICE_POSTGRADUATE_NEXT = '';
							$PRICE_POSTGRADUATE_INCREASING_DAY = '';
						}
						break;

						case $PRODUCT_ID_READY: /* READY */
						$PRICE_READY = priceFormat($price[$curNum]->PRICE);
						$PRICES_READY = $price;
						if (array_key_exists($num, $price)) {
							$PRICE_READY_NEXT = priceFormat($price[$num]->PRICE);
						}
						if (array_key_exists($num, $price)) {
							$PRICE_READY_INCREASING_DAY = dateFormat($price[$num]->DATE);
						}
						if ($PRICE_READY_NEXT == 0) {
							$PRICE_READY_NEXT = '';
							$PRICE_READY_INCREASING_DAY = '';
						}
						break;

						case $PRODUCT_ID_STEADY: /* STEADY */
						$PRICE_STEADY = priceFormat($price[$curNum]->PRICE);
						$PRICES_STEADY = $price;
						if (array_key_exists($num, $price)) {
							$PRICE_STEADY_NEXT = priceFormat($price[$num]->PRICE);
						}
						if (array_key_exists($num, $price)) {
							$PRICE_STEADY_INCREASING_DAY = dateFormat($price[$num]->DATE);
						}
						if ($PRICE_STEADY_NEXT == 0) {
							$PRICE_STEADY_NEXT = '';
							$PRICE_STEADY_INCREASING_DAY = '';
						}
						break;

						case $PRODUCT_ID_RUN: /* RUN */
						$PRICE_RUN = priceFormat($price[$curNum]->PRICE);
						$PRICES_RUN = $price;
						if (array_key_exists($num, $price)) {
							$PRICE_RUN_NEXT = priceFormat($price[$num]->PRICE);
						}
						if (array_key_exists($num, $price)) {
							$PRICE_RUN_INCREASING_DAY = dateFormat($price[$num]->DATE);
						}
						if ($PRICE_RUN_NEXT == 0) {
							$PRICE_RUN_NEXT = '';
							$PRICE_RUN_INCREASING_DAY = '';
						}
						break;

						case $PRODUCT_ID_MONTH: /* MONTH */
						$PRICE_MONTH = priceFormat($price[$curNum]->PRICE);
						$PRICES_MONTH = $price;
						if (array_key_exists($num, $price)) {
							$PRICE_MONTH_NEXT = priceFormat($price[$num]->PRICE);
						}
						if (array_key_exists($num, $price)) {
							$PRICE_MONTH_INCREASING_DAY = dateFormat($price[$num]->DATE);
						}
						if ($PRICE_MONTH_NEXT == 0) {
							$PRICE_MONTH_NEXT = '';
							$PRICE_MONTH_INCREASING_DAY = '';
						}
						break;

						case $PRODUCT_ID_6_MONTH: /* 6 MONTH */
						$PRICE_6_MONTH = priceFormat($price[$curNum]->PRICE);
						$PRICES_6_MONTH = $price;
						if (array_key_exists($num, $price)) {
							$PRICE_MONTH_NEXT = priceFormat($price[$num]->PRICE);
						}
						if (array_key_exists($num, $price)) {
							$PRICE_6_MONTH_INCREASING_DAY = dateFormat($price[$num]->DATE);
						}
						if ($PRICE_6_MONTH_NEXT == 0) {
							$PRICE_6_MONTH_NEXT = '';
							$PRICE_6_MONTH_INCREASING_DAY = '';
						}
						break;

						case $PRODUCT_ID_12_MONTH: /* 12 MONTH */
						$PRICE_12_MONTH = priceFormat($price[$curNum]->PRICE);
						$PRICES_12_MONTH = $price;
						if (array_key_exists($num, $price)) {
							$PRICE_MONTH_NEXT = priceFormat($price[$num]->PRICE);
						}
						if (array_key_exists($num, $price)) {
							$PRICE_12_MONTH_INCREASING_DAY = dateFormat($price[$num]->DATE);
						}
						if ($PRICE_12_MONTH_NEXT == 0) {
							$PRICE_12_MONTH_NEXT = '';
							$PRICE_12_MONTH_INCREASING_DAY = '';
						}
						break;

						case $PRODUCT_ID_SUBS_SILVER: /* SUBSCRIPTION SILVER */
						$PRICE_SUBS_SILVER = priceFormat($price[$curNum]->PRICE);
						$PRICES_SUBS_SILVER = $price;
						if (array_key_exists($num, $price)) {
							$PRICE_MONTH_NEXT = priceFormat($price[$num]->PRICE);
						}
						if (array_key_exists($num, $price)) {
							$PRICE_SUBS_SILVER_INCREASING_DAY = dateFormat($price[$num]->DATE);
						}
						if ($PRICE_SUBS_SILVER_NEXT == 0) {
							$PRICE_SUBS_SILVER_NEXT = '';
							$PRICE_SUBS_SILVER_INCREASING_DAY = '';
						}
						break;

						case $PRODUCT_ID_SUBS_GOLD: /* SUBSCRIPTION GOLD */
						$PRICE_SUBS_GOLD = priceFormat($price[$curNum]->PRICE);
						$PRICES_SUBS_GOLD = $price;
						if (array_key_exists($num, $price)) {
							$PRICE_MONTH_NEXT = priceFormat($price[$num]->PRICE);
						}
						if (array_key_exists($num, $price)) {
							$PRICE_SUBS_GOLD_INCREASING_DAY = dateFormat($price[$num]->DATE);
						}
						if ($PRICE_SUBS_GOLD_NEXT == 0) {
							$PRICE_SUBS_GOLD_NEXT = '';
							$PRICE_SUBS_GOLD_INCREASING_DAY = '';
						}
						break;

						case $PRODUCT_ID_SUBS_PLATINUM: /* SUBSCRIPTION PLATINUM */
						$PRICE_SUBS_PLATINUM = priceFormat($price[$curNum]->PRICE);
						$PRICES_SUBS_PLATINUM = $price;
						if (array_key_exists($num, $price)) {
							$PRICE_MONTH_NEXT = priceFormat($price[$num]->PRICE);
						}
						if (array_key_exists($num, $price)) {
							$PRICE_SUBS_PLATINUM_INCREASING_DAY = dateFormat($price[$num]->DATE);
						}
						if ($PRICE_SUBS_PLATINUM_NEXT == 0) {
							$PRICE_SUBS_PLATINUM_NEXT = '';
							$PRICE_SUBS_PLATINUM_INCREASING_DAY = '';
						}
						break;

					}
				}
			}
		}
	} catch (Exception $e) {
	}
}
